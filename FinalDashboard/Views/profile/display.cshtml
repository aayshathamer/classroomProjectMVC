@model IEnumerable<FinalDashboard.Models.student>

@{
    ViewBag.Title = "Display Profile";
    Layout = "~/Views/Shared/profile.cshtml";
}

<h2>Profile</h2>

<div class="col-lg-6 mt-lg-0 mt-5">
    <div class="w3l-abouthny-info">
        <h6 class="title-subw3hny">Welcome to my profile</h6>

        @if (Session["id"] != null)
        {
            var userId = Convert.ToInt32(Session["id"]);

            // Filter the list to find the logged-in user
            var loggedInUser = Model.FirstOrDefault(student => student.id == userId);

            if (loggedInUser != null)
            {
                <h3 class="title-w3l">
                    Hi, I am @loggedInUser.name and this is my profile
                </h3>
                <p class="mt-4">
                    I am @loggedInUser.name and I study in semester @loggedInUser.semester.
                    Currently, I am in the @loggedInUser.shift students.
                    The faculty I chose is @loggedInUser.dep.
                </p>
            }
            else
            {
                <p>No user profile found for the logged-in user.</p>
            }
        }
        else
        {
            <p>Please log in to view your profile.</p>
        }
    </div>
</div>
